<tui-breadcrumb>
  <tui-breadcrumb-item>
    <a [routerLink]="['/index/tenant/list']">{{'list' | translate}}</a>
  </tui-breadcrumb-item>
  <tui-breadcrumb-item>{{'zhxq' | translate}} - {{tenantName}}</tui-breadcrumb-item>
</tui-breadcrumb>

<section>
  <div>
    <h3>{{tenantName}}</h3>
    <p>{{details.attributes?.description}}</p>
    <ul>
      <li>
        类型：{{details.type}}
      </li>
    </ul>
  </div>
  <div class="btns">
    <button tuiBtn="primary" (click)="showTruthManagementModal()">信任管理</button>
    <button tuiBtn="primary" (click)="showVisitManagementModal()">访问管理</button>
    <button tuiBtn="primary" [tuiDropdownTrigger]="editDropdown">...</button>
    <!-- trigger="hover" -->
    <tui-dropdown #editDropdown direction="bottomRight" [caret]="false">
      <tui-dropdown-item (click)="showTenantModal(tenantActionTypes['edit'])">
        编辑租户
      </tui-dropdown-item>
      <tui-dropdown-item (click)="showTenantModal(tenantActionTypes['remove'])">
        删除租户
      </tui-dropdown-item>
    </tui-dropdown>
  </div>
</section>

<tui-tab [(selectedIndex)]="selectedIndex" (selectedIndexChange)="tabChange($event)">
  <div *tuiTabPane="'认证源'">
    <div>
      <span>
        <svg tuiIcon="caret-down" size="md"></svg>
        健康{{23}}
        <svg tuiIcon="caret-down" size="md"></svg>
        故障{{23}}
      </span>
      <span>
        <tui-input
          placeholder="{{'TENANT.placeholder' | translate}}"
          prefix="user"
          [(ngModel)]="providersFilter.tenant"
          (input)="fetchProviders($event)"
        ></tui-input>
        <tui-select
          placeholder="全部类型"
          [(ngModel)]="providersFilter.ssss"
          (ngModelChange)="typeChange($event)"
          allowClear
        >
          <tui-select-option
            *ngFor="let option of objectOptions"
            [value]="option.value"
            [disabled]="option.disabled"
          >
            {{option.label | tuiDefault }}
          </tui-select-option>
        </tui-select>
        <button
          tuiBtn="primary"
          (click)="showAuthProviderModal('register')"
        >注册认证源</button>
      </span>
    </div>
    <tui-table [tuiTableFlex]="[1,1,1]" tuiTableOutline>
      <tui-table-head>
        <div>名称</div>
        <div>类型</div>
        <div>操作</div>
      </tui-table-head>
      <tui-table-row *ngFor="let datum of providers" >
        <div>{{datum.providerId}}</div>
        <div>{{datum.type}}</div>
        <div>
          <span tuiTooltip="{{'查看详情' | translate}}">
            <svg tuiIcon="trash" (click)="showAuthProviderModal('details', datum)"></svg>
          </span>
          <span tuiTooltip="{{'删除' | translate}}">
            <svg tuiIcon="trash" (click)="showAuthProviderModal('remove', datum)"></svg>
          </span>
        </div>
      </tui-table-row>
    </tui-table>
  </div>

  <div *tuiTabPane="'oauth client'">
    <tui-table [tuiTableFlex]="[1,1,2]" tuiTableOutline>
      <tui-table-head>
        <div>Name</div>
        <div>Gender</div>
        <div>Age</div>
      </tui-table-head>
      <tui-table-row *ngFor="let datum of tableData" >
        <div>{{datum.name}}</div>
        <div>{{datum.sex}}</div>
        <div>{{datum.age}}</div>
      </tui-table-row>
    </tui-table>
  </div>
</tui-tab>
